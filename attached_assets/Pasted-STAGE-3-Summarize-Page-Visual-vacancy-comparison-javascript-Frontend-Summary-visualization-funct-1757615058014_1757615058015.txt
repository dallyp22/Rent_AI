STAGE 3: Summarize Page
Visual vacancy comparison
javascript// Frontend: Summary visualization
function renderSummaryPage(data) {
    const { subjectVacancies, competitorVacancies } = data;
    
    // Create comparative bar chart
    const chartConfig = {
        type: 'bar',
        data: {
            labels: ['Studio', '1 Bedroom', '2 Bedroom', '3 Bedroom'],
            datasets: [
                {
                    label: subjectProperty.name,
                    data: subjectVacancies.map(v => v.avgRent),
                    backgroundColor: 'rgba(59, 130, 246, 0.8)', // Blue for subject
                    borderColor: 'rgb(59, 130, 246)',
                    borderWidth: 2
                },
                ...competitorVacancies.map((comp, idx) => ({
                    label: comp.name,
                    data: comp.units.map(u => u.avgRent),
                    backgroundColor: `rgba(${getCompetitorColor(idx)}, 0.5)`,
                    borderColor: `rgb(${getCompetitorColor(idx)})`,
                    borderWidth: 1
                }))
            ]
        },
        options: {
            responsive: true,
            plugins: {
                title: {
                    display: true,
                    text: 'Rent Comparison by Unit Type'
                },
                tooltip: {
                    callbacks: {
                        afterLabel: (context) => {
                            const unitData = getUnitDetails(context);
                            return [
                                `Units Available: ${unitData.count}`,
                                `Avg Sq Ft: ${unitData.avgSqFt}`,
                                `Availability: ${unitData.availability}`
                            ];
                        }
                    }
                }
            }
        }
    };
    
    new Chart(document.getElementById('comparisonChart'), chartConfig);
}
Summary Page UI:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“Š VACANCY SUMMARY                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                       â”‚
â”‚ [Interactive Bar Chart Area]                         â”‚
â”‚  $2000 â”¤                                             â”‚
â”‚  $1800 â”¤     â–ˆâ–ˆ                                      â”‚
â”‚  $1600 â”¤ â–ˆâ–ˆ  â–ˆâ–ˆ  â–“â–“                                 â”‚
â”‚  $1400 â”¤ â–ˆâ–ˆ  â–ˆâ–ˆ  â–“â–“  â–‘â–‘                            â”‚
â”‚  $1200 â”¤ â–ˆâ–ˆ  â–ˆâ–ˆ  â–“â–“  â–‘â–‘  â–‘â–‘                        â”‚
â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                â”‚
â”‚         Studio  1BR   2BR   3BR                      â”‚
â”‚                                                       â”‚
â”‚ â–ˆâ–ˆ The Atlas  â–“â–“ The Monico  â–‘â–‘ Urban Village      â”‚
â”‚                                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“ˆ Key Insights:                                     â”‚
â”‚ â€¢ Your studios are priced 8% above market average    â”‚
â”‚ â€¢ 2BR units show strongest competitive position      â”‚
â”‚ â€¢ 15 total vacancies vs 23 competitor average       â”‚
â”‚                                                       â”‚
â”‚ [â† Back] [Analyze â†’] [Export Summary]                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
STAGE 4: Analyze Page
Interactive deep-dive analysis
javascript// Frontend: Dynamic analysis filters
class AnalysisPage {
    constructor(data) {
        this.data = data;
        this.activeFilters = {
            bedrooms: ['all'],
            priceRange: 'all',
            availability: 'all',
            amenities: [],
            sqftRange: 'all'
        };
    }
    
    renderFilterPanel() {
        return `
            <div class="filter-panel">
                <!-- Bedroom Filter -->
                <div class="filter-group">
                    <h4>ğŸ›ï¸ Bedrooms</h4>
                    <label><input type="checkbox" value="studio" onchange="updateAnalysis()"> Studio</label>
                    <label><input type="checkbox" value="1br" onchange="updateAnalysis()"> 1 Bedroom</label>
                    <label><input type="checkbox" value="2br" onchange="updateAnalysis()"> 2 Bedroom</label>
                    <label><input type="checkbox" value="3br" onchange="updateAnalysis()"> 3 Bedroom</label>
                </div>
                
                <!-- Price Range -->
                <div class="filter-group">
                    <h4>ğŸ’° Price Range</h4>
                    <input type="range" min="800" max="3000" id="priceRange">
                    <span id="priceDisplay">$800 - $3000</span>
                </div>
                
                <!-- Availability -->
                <div class="filter-group">
                    <h4>ğŸ“… Availability</h4>
                    <label><input type="radio" name="avail" value="now"> Available Now</label>
                    <label><input type="radio" name="avail" value="30days"> Within 30 Days</label>
                    <label><input type="radio" name="avail" value="60days"> Within 60 Days</label>
                </div>
                
                <!-- Square Footage -->
                <div class="filter-group">
                    <h4>ğŸ“ Square Footage</h4>
                    <input type="range" min="400" max="2000" id="sqftRange">
                    <span id="sqftDisplay">400 - 2000 sq ft</span>
                </div>
            </div>
        `;
    }
    
    async updateAnalysis() {
        const filteredData = this.applyFilters(this.data);
        
        // Re-run AI analysis with filtered data
        const analysis = await fetch('/api/filtered-analysis', {
            method: 'POST',
            body: JSON.stringify({ 
                filters: this.activeFilters,
                data: filteredData 
            })
        });
        
        this.renderAnalysisResults(await analysis.json());
    }
}
Analyze Page UI:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ” INTERACTIVE ANALYSIS                    [Export] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Main Analysis Area     â”‚ Filter Panel                â”‚
â”‚                        â”‚                             â”‚
â”‚ ğŸ“Š Market Position     â”‚ ğŸ›ï¸ Bedrooms                â”‚
â”‚ For 2BR Units:         â”‚ â–¡ Studio                    â”‚
â”‚                        â”‚ âœ“ 1 Bedroom                 â”‚
â”‚ Your Position: 65th    â”‚ âœ“ 2 Bedroom                 â”‚
â”‚ percentile             â”‚ â–¡ 3 Bedroom                 â”‚
â”‚                        â”‚                             â”‚
â”‚ Pricing Power: STRONG  â”‚ ğŸ’° Price Range              â”‚
â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 78%        â”‚ [$1200]â”â”â”â”â—â”â”[$2400]      â”‚
â”‚                        â”‚                             â”‚
â”‚ Competitive Advantages:â”‚ ğŸ“… Availability             â”‚
â”‚ â€¢ Newer construction   â”‚ â—‰ Now â—‹ 30d â—‹ 60d         â”‚
â”‚ â€¢ Premium amenities    â”‚                             â”‚
â”‚ â€¢ Location score: 9.2  â”‚ ğŸ“ Square Footage           â”‚
â”‚                        â”‚ [600]â”â”â—â”â”â”â”â”[1200]        â”‚
â”‚ Recommended Actions:   â”‚                             â”‚
â”‚ â€¢ Increase 1BR by 3%   â”‚ [Apply Filters]             â”‚
â”‚ â€¢ Hold 2BR pricing     â”‚                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
STAGE 5: Optimize Page
Pricing optimization with Excel export
javascript// Backend: Optimization engine
app.post('/api/optimize-pricing', async (req, res) => {
    const { subjectUnits, competitorData, optimizationGoals } = req.body;
    
    // AI-powered optimization
    const optimizedPricing = await generateOptimizedPricing(
        subjectUnits,
        competitorData,
        optimizationGoals
    );
    
    // Generate Excel export
    const excelBuffer = await generateExcelReport(optimizedPricing);
    
    res.json({
        optimizedUnits: optimizedPricing,
        exportUrl: `/api/download-excel/${sessionId}`,
        summary: calculateOptimizationImpact(optimizedPricing)
    });
});

// Excel generation
async function generateExcelReport(data) {
    const workbook = new ExcelJS.Workbook();
    const worksheet = workbook.addWorksheet('Pricing Optimization');
    
    // Headers with styling
    worksheet.columns = [
        { header: 'Unit #', key: 'unit', width: 10 },
        { header: 'Type', key: 'type', width: 15 },
        { header: 'Beds', key: 'beds', width: 8 },
        { header: 'Baths', key: 'baths', width: 8 },
        { header: 'Sq Ft', key: 'sqft', width: 10 },
        { header: 'Current Rent', key: 'currentRent', width: 12 },
        { header: 'Market Avg', key: 'marketAvg', width: 12 },
        { header: 'Optimized Rent', key: 'optimizedRent', width: 14 },
        { header: 'Change ($)', key: 'changeAmount', width: 12 },
        { header: 'Change (%)', key: 'changePercent', width: 12 },
        { header: 'Confidence', key: 'confidence', width: 12 },
        { header: 'Notes', key: 'notes', width: 30 }
    ];
    
    // Add data with conditional formatting
    data.forEach(unit => {
        const row = worksheet.addRow(unit);
        
        // Color code based on recommendation
        if (unit.changePercent > 0) {
            row.getCell('optimizedRent').fill = {
                type: 'pattern',
                pattern: 'solid',
                fgColor: { argb: 'FFE5F5E5' } // Light green
            };
        } else if (unit.changePercent < 0) {
            row.getCell('optimizedRent').fill = {
                type: 'pattern',
                pattern: 'solid',
                fgColor: { argb: 'FFFFE5E5' } // Light red
            };
        }
    });
    
    return workbook.xlsx.writeBuffer();
}
Optimize Page UI:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ¯ PRICING OPTIMIZATION                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Optimization Goals:                                  â”‚
â”‚ â—‰ Maximize Revenue  â—‹ Maximize Occupancy            â”‚
â”‚ â—‹ Balanced Approach â—‹ Custom                        â”‚
â”‚                                                       â”‚
â”‚ Target Occupancy: [â”â”â”â”â”â”â—â”â”â”] 92%                  â”‚
â”‚ Risk Tolerance:   [â”â”â—â”â”â”â”â”â”â”] Low                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Unit  Type    Current  Market  Optimized  Change    â”‚
â”‚ 101   Studio  $1,295   $1,250  $1,275    -$20 â†“    â”‚
â”‚ 102   Studio  $1,295   $1,250  $1,275    -$20 â†“    â”‚
â”‚ 201   1BR     $1,495   $1,450  $1,475    -$20 â†“    â”‚
â”‚ 202   1BR     $1,495   $1,450  $1,525    +$30 â†‘    â”‚
â”‚ 301   2BR     $1,895   $1,850  $1,925    +$30 â†‘    â”‚
â”‚ 302   2BR     $1,895   $1,850  $1,925    +$30 â†‘    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“Š Projected Impact:                                 â”‚
â”‚ â€¢ Monthly Revenue Change: +$240 (1.8% increase)     â”‚
â”‚ â€¢ Occupancy Impact: -1.2% (still above target)      â”‚
â”‚ â€¢ Time to Lease: Reduced by 3.5 days average        â”‚
â”‚ â€¢ Competitive Position: Improves from 65th to 72nd   â”‚
â”‚                                                       â”‚
â”‚ [Apply Changes] [Export to Excel] [Save Scenario]    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜